# mini-stash

A less-featured local/session storage wrapper.

### Exported methods

`stash`

parameters:

- storageKey: string - key assigned to data
- data: any - value/object to store
- useSessionStorage: boolean (optional) - whether to use session vs local storage

`retrieve`

parameters:

- storageKey: string - key assigned to data
- minutesToExpiration: number - number of minutes till invalidation of stash data (pass 0 to disable expiration)
- useSessionStorage: boolean (optional) - whether to use sesssion vs local storage

`clear`

parameters: 

- storageKey: string - key assigned to data
- useSessionStorage: boolean (optional) - whether to use session vs local storage

### Install

`npm install mini-stash`

### Example

```js

import { clear, stash, retrieve } from 'mini-stash';

const data = {
	latitude: 33.441792,
	longitude: -94.037689
};

// it's a good idea to prefix storage keys
const storageKey = 'myapp-coords';

// save to local storage
stash(storageKey, data);

// save to session storage
stash(data, false);

// retrieve from local storage (discard if data is older than a day)
let coords = retrieve(storageKey, 60 * 24);
if (!coords) {
	// ... get the coords
}

// retrieve from session storage (disable cache)
let sessionCoords = retrieve(storageKey, 0, true);

// clear from local storage
clear(storageKey);

// clear from session storage
clear(storageKey, true);
```

# Development

- Notes
	- Written in TypeScript
	- Compiled to UMD via WebPack
	- Compiled to ES6 via TSC
	- Typings generated by TSC
- Setup: `pnpm install`
- Serve: `pnpm run start`

See [index.ejs](./index.ejs)

### Runtimes

Latest tested runtimes

- node: 10.16.3
- pnpm: 5.3.0
